<section class="contact" aria-labelledby="contactSectionHeader">
  <header class="headerPosition">
    <div class="headlineRelative">
      <div class="headline">
        <h1 id="contactSectionHeader">
          {{ contact[0].sec[languageService.currentLanguage] }}
        </h1>
        <div class="purpleLine"></div>
      </div>
    </div>
  </header>

  <section
    class="contactContainer"
    data-aos="fade-right"
    role="form"
    aria-label="Contact form section"
  >
    <div class="contactText">
      <h2 class="size32 weight700">
        {{ contact[0].header[languageService.currentLanguage] }}
      </h2>
      <p class="size16">
        {{ contact[0].subhead[languageService.currentLanguage] }}
      </p>
      <p class="size16">
        {{ contact[0].desc1[languageService.currentLanguage] }}
        <b>{{ contact[0].desc2[languageService.currentLanguage] }}</b>
      </p>
    </div>

    <form
      (ngSubmit)="onSubmit(contactForm)"
      #contactForm="ngForm"
      aria-describedby="formInstructions"
    >
      <fieldset class="formContent">
        <legend id="formInstructions" class="sr-only">
          Fill in the form below to send us a message
        </legend>

        <div>
          <label for="name" class="sr-only">Name</label>
          <input
            #name="ngModel"
            minlength="4"
            [(ngModel)]="contactData.name"
            type="text"
            id="name"
            name="personName"
            placeholder="{{ contact[0].name[languageService.currentLanguage] }}"
            required
            aria-required="true"
            [class.invalid]="!name.valid && name.touched"
          />
          @if(!name.valid && name.touched) {
          <span class="entryError">{{
            error[0].nameError[languageService.currentLanguage]
          }}</span>
          } @else {
          <div class="height23"></div>
          }
        </div>

        <div>
          <label for="email" class="sr-only">Email</label>
          <input
            #email="ngModel"
            [(ngModel)]="contactData.email"
            type="email"
            id="email"
            name="email"
            placeholder="{{
              contact[0].email[languageService.currentLanguage]
            }}"
            required
            pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
            aria-required="true"
            [class.invalid]="!email.valid && email.touched"
          />
          @if(!email.valid && email.touched) {
          <span class="entryError">{{
            error[0].emailError[languageService.currentLanguage]
          }}</span>
          } @else {
          <div class="height23"></div>
          }
        </div>

        <div>
          <label for="subject" class="sr-only">Message</label>
          <textarea
            #message="ngModel"
            minlength="4"
            [(ngModel)]="contactData.message"
            id="subject"
            name="subject"
            placeholder="{{ contact[0].msg[languageService.currentLanguage] }}"
            required
            aria-required="true"
            style="height: 200px"
            [class.invalid]="!message.valid && message.touched"
          ></textarea>
          @if(!message.valid && message.touched) {
          <span class="entryError">{{
            error[0].commentError[languageService.currentLanguage]
          }}</span>
          } @else {
          <div class="height23"></div>
          }
        </div>

        <div class="privacyPolicyAccept">
          <input
            type="checkbox"
            id="privacyCheck"
            name="privacyCheck"
            [(ngModel)]="contactData.privacyAccepted"
            #check="ngModel"
            required
            aria-required="true"
          />
          <div class="wrap">
            <label for="privacyCheck" class="sr-only"
              >Accept Privacy Policy</label
            >
            <p class="size14">
              {{ contact[0].priv1[languageService.currentLanguage] }}
            </p>
            <a
              class="size14"
              [routerLink]="'/privacy-policy'"
              routerLinkActive="active"
              (click)="displayService.pageChange('privacy')"
            >
              {{ contact[0].link[languageService.currentLanguage] }}
            </a>
            <p class="size14">
              {{ contact[0].priv2[languageService.currentLanguage] }}
            </p>
          </div>
        </div>
        @if(!check.valid && check.touched) {
        <span class="validError">{{
          error[0].privacyError[languageService.currentLanguage]
        }}</span>
        } @else {
        <div class="height23"></div>
        }
      </fieldset>

      <p [ngClass]="{ confirm: true, 'confirm-active': isConfirmed }">
        {{ confirm[0].ok[languageService.currentLanguage] }}
      </p>

      <div class="flexCenter sendButton">
        <app-submit-button
          buttonText="{{ contact[0].send[languageService.currentLanguage] }}"
          [disabled]="!contactForm.valid"
        ></app-submit-button>
      </div>
    </form>
  </section>

  <div class="goUp" role="button" aria-label="Go to top">
    <img
      (click)="scrollService.scrollToTop()"
      src="../../../assets/img/icons/4. Go up button.svg"
      alt="Go Up"
    />
  </div>
</section>
